@page "/"

<h3>Roster Builder</h3>

<EditForm Model="@player" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div>
        <label>Player Name:</label>
        <InputText @bind-Value="player.PlayerName" />
    </div>

    <div>
        <label>Origin:</label>
        <InputText @bind-Value="player.Origin" />
    </div>

    <div>
        <label>Role:</label>
        <InputText @bind-Value="player.Role" />
    </div>

    <button type="submit">Save</button>
</EditForm>

@if (!string.IsNullOrEmpty(MarkdownOutput))
{
    <h4>Generated Markdown</h4>
    <pre>@MarkdownOutput</pre>
}

@code {
    private Player player = new();
    private string? MarkdownOutput;

    private void HandleValidSubmit()
    {
        MarkdownOutput = $"# {player.PlayerName}\nOrigin: {player.Origin}\nRole: {player.Role}";
    }

    public class Player
    {
        public string PlayerName { get; set; } = string.Empty;
        public string Origin { get; set; } = string.Empty;
        public string Role { get; set; } = string.Empty;
    }
}
